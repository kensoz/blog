import{_ as o,o as p,c,a as n,d as e,e as t,b as s,r as i}from"./app.a5ec93c6.js";const l={},u=t('<h1 id="docker\u3066\u3099vue-node-koa-nginx-mongodb\u30C6\u3099\u30D5\u309A\u30ED\u30A4\u74B0\u5883\u3092\u4F5C\u308B" tabindex="-1"><a class="header-anchor" href="#docker\u3066\u3099vue-node-koa-nginx-mongodb\u30C6\u3099\u30D5\u309A\u30ED\u30A4\u74B0\u5883\u3092\u4F5C\u308B" aria-hidden="true">#</a> Docker\u3067Vue+Node(Koa)+Nginx+MongoDB\u30C7\u30D7\u30ED\u30A4\u74B0\u5883\u3092\u4F5C\u308B</h1><p><img src="https://img.shields.io/badge/-Typescript-9ca3af.svg?logo=typescript&amp;style=popout-square" alt=""> <img src="https://img.shields.io/badge/-Javascript-9ca3af.svg?logo=javascript&amp;style=popout-square" alt=""> <img src="https://img.shields.io/badge/-Node.js-9ca3af.svg?logo=node.js&amp;style=popout-square" alt=""> <img src="https://img.shields.io/badge/-Docker-9ca3af.svg?logo=docker&amp;style=popout-square" alt=""></p>',2),r=s("\u{1F4E1} "),d={href:"https://qiita.com/kensoz/items/2fc0b707e91e6ec8920e",target:"_blank",rel:"noopener noreferrer"},k=s("Qiita"),v=t('<h5 id="\u3053\u306E\u8A18\u4E8B\u306E\u30A2\u30D2\u309A\u30FC\u30EB\u30DB\u309A\u30A4\u30F3\u30C8" tabindex="-1"><a class="header-anchor" href="#\u3053\u306E\u8A18\u4E8B\u306E\u30A2\u30D2\u309A\u30FC\u30EB\u30DB\u309A\u30A4\u30F3\u30C8" aria-hidden="true">#</a> \u3053\u306E\u8A18\u4E8B\u306E\u30A2\u30D4\u30FC\u30EB\u30DD\u30A4\u30F3\u30C8</h5><ul><li>\u{1F600} \u521D\u5FC3\u8005\u306B\u6700\u9069</li><li>\u{1F4AA} \u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u958B\u767A\u8005\u306B\u6700\u9069</li></ul><h2 id="_0-\u4E8B\u524D\u6E96\u5099" tabindex="-1"><a class="header-anchor" href="#_0-\u4E8B\u524D\u6E96\u5099" aria-hidden="true">#</a> 0.\u4E8B\u524D\u6E96\u5099</h2><h5 id="\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB" tabindex="-1"><a class="header-anchor" href="#\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB" aria-hidden="true">#</a> \u30A4\u30F3\u30B9\u30C8\u30FC\u30EB</h5><p>\u4EE5\u4E0B\u306E\u30BD\u30D5\u30C8\u30A6\u30A7\u30A2\u3068\u74B0\u5883\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u304C\u5FC5\u8981\u3067\u3059\u3002</p><ul><li>Docker\u4EE5\u53CAdocker-compose\uFF08\u5FC5\u9808\uFF09</li><li>Docker\u56FE\u5F62\u5316\u754C\u9762\uFF08\u306A\u304F\u3066\u3082\u3088\u3044\uFF09</li><li>Node.js\uFF08\u5FC5\u9808\uFF09</li><li>MongoDB\u56FE\u5F62\u5316\u754C\u9762\uFF08\u306A\u304F\u3066\u3082\u3088\u3044\uFF09</li><li>yarn \uFF08\u306A\u304F\u3066\u3082\u3088\u3044\uFF0Cnpm\uFF0Cpnpm\u3092\u4F7F\u3063\u3066\u3082\u69CB\u3044\u307E\u305B\u3093\uFF09</li></ul><h5 id="\u77E5\u8B58" tabindex="-1"><a class="header-anchor" href="#\u77E5\u8B58" aria-hidden="true">#</a> \u77E5\u8B58</h5><p>Docker\u30B3\u30F3\u30C6\u30F3\u30C4\u306E\u8AAC\u660E\u3068\u69CB\u7BC9\u304C\u30E1\u30A4\u30F3\u3068\u306A\u308A\u307E\u3059\u306E\u3067\u3001<br> \u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u3068\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u958B\u767A\u306E\u8AAC\u660E\u306F\u7279\u306B\u3057\u307E\u305B\u3093\u3002<br> \u306A\u306E\u3067\u3001\u4EE5\u4E0B\u306E\u77E5\u8B58\u306F\u3042\u3063\u305F\u65B9\u304C\u3044\u3044\u3067\u3059</p><ul><li>Docker\u306E\u57FA\u790E\u77E5\u8B58</li><li>Mongodb\u306E\u57FA\u790E\u77E5\u8B58</li><li>Nginx\u306E\u57FA\u790E\u77E5\u8B58</li><li>\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\uFF08vue\uFF0Creact..\uFF09\uFF0C\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\uFF08node\uFF0Ckoa..\uFF09\u306E\u57FA\u790E\u77E5\u8B58</li></ul><h5 id="\u74B0\u5883" tabindex="-1"><a class="header-anchor" href="#\u74B0\u5883" aria-hidden="true">#</a> \u74B0\u5883</h5><ul><li>OS\uFF1AWindows 10</li><li>\u30A8\u30C7\u30A3\u30BF\u30FC\uFF1AVS Code</li><li>Node.js\uFF1Av16.3.0</li><li>Docker\uFF1Av20.10.13</li></ul><h5 id="demo" tabindex="-1"><a class="header-anchor" href="#demo" aria-hidden="true">#</a> demo</h5>',12),m=s("\u6587\u7AE0\u3067\u4F5C\u6210\u3057\u305Fdemo\u306F"),b={href:"https://github.com/kensoz/depoly-demo",target:"_blank",rel:"noopener noreferrer"},h=s("GitHub"),g=s("\u306B\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u307E\u3057\u305F\u306E\u3067\u3001\u3054\u53C2\u7167\u304F\u3060\u3055\u3044\u3002"),f=n("br",null,null,-1),y=s(" \u3061\u306A\u307F\u306B\u3001OSS\u3068\u3057\u3066"),_={href:"https://github.com/kensoz/Rrea-admin",target:"_blank",rel:"noopener noreferrer"},q=s("Rrea"),x=s("\u3068\u3044\u3046web\u30A2\u30D7\u30EA\u3092\u4F5C\u308A\u307E\u3057\u305F\u306E\u3067\u3001\u3054\u53C2\u7167\u3001star\u3092\u3082\u3089\u3048\u308C\u3070\u5E78\u305B\u3067\u3059\u3002"),w=n("h2",{id:"_1-\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C8\u3099\u306E\u6E96\u5099",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C8\u3099\u306E\u6E96\u5099","aria-hidden":"true"},"#"),s(" 1.\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u306E\u6E96\u5099")],-1),D=s("\u3053\u3053\u306Fvite\u3067vue3\u3092\u4F5C\u308A\u307E\u3059\u304C\u3001\u597D\u304D\u306AJS\u30D5\u30EC\u30FC\u30E0\u30EF\u30FC\u30AF\u3092\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\u3002"),O=n("br",null,null,-1),j={href:"https://github.com/kensoz/depoly-demo/tree/master/frontend",target:"_blank",rel:"noopener noreferrer"},N=s("\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u30D5\u30A9\u30EB\u30C0\u53C2\u7167"),R=t(`<p>root\u30D5\u30A9\u30EB\u30C0\u3067frontend\u30D5\u30A9\u30EB\u30C0\u3092\u65B0\u898F\u4F5C\u6210\u3001vite\u3092\u521D\u671F\u5316\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> create vite
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u597D\u304D\u306AJS\u30D5\u30EC\u30FC\u30E0\u30EF\u30FC\u30AF\u3092\u9078\u629E\u3057\u3066\u3001\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u3066\u304F\u3060\u3055\u3044\u3002<br> \u3044\u3089\u306A\u3044\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8\u3092\u524A\u9664\u3057\u3066\u3001Axios\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> -D axios
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>App.vue</code>\u3067\u4EE5\u4E0B\u306E\u30B3\u30FC\u30C9\u3092\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\uFF08\u3053\u3053\u3067TS\u3092\u3064\u304B\u3044\u307E\u3057\u305F\u304C\u3001JS\u3067\u3082\u69CB\u3044\u307E\u305B\u3093\uFF09\u3002<br> \u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u3092\u8D77\u52D5\u3059\u308B\u3068\u3001Axios\u3092\u4F7F\u3046\u30E1\u30BD\u30C3\u30C9<code>api()</code>\u306FAPI\u3092\u30EA\u30AF\u30A8\u30B9\u30C8\u3057\u3066\u3001\u30EC\u30B9\u3092\u753B\u9762\u306B\u30D7\u30EA\u30F3\u30C8\u3057\u307E\u3059\u3002<br><code>/test</code>\u306F\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u304C\u63D0\u4F9B\u3057\u3066\u3044\u308BAPI\u30A2\u30C9\u30EC\u30B9\uFF08\u5F8C\u3067\u8AAC\u660E\uFF09\u3002</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>\u30C7\u30FC\u30BF:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ data }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token literal-property property">host</span><span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">7021</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">IDocker</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u30EA\u30AF\u30A8\u30B9\u30C8</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> ref<span class="token operator">&lt;</span>IDocker<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> api <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> axios<span class="token punctuation">.</span>get<span class="token operator">&lt;</span>IDocker<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    data<span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>package.json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code> <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-tsc --noEmit &amp;&amp; vite build&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;preview&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite preview&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u306E\u6E96\u5099\u306F\u5B8C\u4E86</p><h2 id="_2-\u30CF\u3099\u30C3\u30AF\u30A8\u30F3\u30C8\u3099\u306E\u6E96\u5099" tabindex="-1"><a class="header-anchor" href="#_2-\u30CF\u3099\u30C3\u30AF\u30A8\u30F3\u30C8\u3099\u306E\u6E96\u5099" aria-hidden="true">#</a> 2.\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u306E\u6E96\u5099</h2>`,10),I=s("\u3053\u3053\u3067Node.js\u306E\u30D5\u30EC\u30FC\u30E0\u30EF\u30FC\u30AFKoa.js\u3068TS\u3067\u69CB\u7BC9\u3057\u307E\u3059\u304C\u3001\u597D\u304D\u306ANode.js\u30D5\u30EC\u30FC\u30E0\u30EF\u30FC\u30AF\u3092\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\u3002"),S=n("br",null,null,-1),M={href:"https://github.com/kensoz/depoly-demo/tree/master/backend",target:"_blank",rel:"noopener noreferrer"},P=s("\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u30D5\u30A9\u30EB\u30C0\u53C2\u7167"),B=s("root\u30D5\u30A9\u30EB\u30C0\u3067backend\u30D5\u30A9\u30EB\u30C0\u3092\u65B0\u898F\u4F5C\u6210\u3002"),E=n("br",null,null,-1),C=s(" Koa.js + TS\u306E\u69CB\u7BC9\u65B9\u6CD5\u306F"),T={href:"https://qiita.com/notakaos/items/85fd2f5c549f247585b1",target:"_blank",rel:"noopener noreferrer"},A=s("\u3053\u306E\u8A18\u4E8B"),U=s("\u306B\u53C2\u7167\u3057\u3066\u4F5C\u6210\u3057\u307E\u3057\u305F\u3002"),Y=t(`<p>koa\u30EB\u30FC\u30C8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> koa-router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>index.ts</code>\u3067\u4EE5\u4E0B\u306E\u30B3\u30FC\u30C9\u3092\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\u3002<br> \u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u3092\u8D77\u52D5\u3059\u308B\u3068\uFF0Ctest\u3068\u3044\u3046API\u306E\u30EB\u30FC\u30C8\u3092\u4F5C\u6210\u3057\u307E\u3059\u3002<br> test\u304C\u30EA\u30AF\u30A8\u30B9\u30C8\u3055\u308C\u305F\u3089\uFF0C\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u304B\u3089\u30C7\u30FC\u30BF\u3092\u53D6\u5F97\u3057\u3066\u3001\u30EC\u30B9\u3068\u3057\u3066\u8FD4\u3057\u307E\u3059\u3002</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> Koa <span class="token keyword">from</span> <span class="token string">&quot;koa&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">&quot;koa-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect<span class="token punctuation">,</span> Schema<span class="token punctuation">,</span> model <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;mongoose&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Koa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> host<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">7022</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> url<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;mongodb://foo:foo@database:27017/docker&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// #################### \u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u95A2\u9023 ####################</span>
<span class="token keyword">const</span> connectMongoDB <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">connect</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;mongodb connect success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;mongodb connect failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IDocker</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema<span class="token operator">&lt;</span>IDocker<span class="token operator">&gt;</span></span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> Number<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> versionKey<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> dockerModel <span class="token operator">=</span> <span class="token generic-function"><span class="token function">model</span><span class="token generic class-name"><span class="token operator">&lt;</span>IDocker<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;tests&quot;</span><span class="token punctuation">,</span> schema<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// #################### \u30EB\u30FC\u30C8\u95A2\u9023 ####################</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token operator">:</span> Koa<span class="token punctuation">.</span>Context<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;requested&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> dockerModel<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token operator">:</span> IDocker<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
      
    ctx<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token punctuation">{</span>
      message<span class="token operator">:</span> <span class="token string">&quot;\u53D6\u5F97\u6210\u529F&quot;</span><span class="token punctuation">,</span>
      result<span class="token operator">:</span> res<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// \u30B5\u30FC\u30D0\u30FC\u8D77\u52D5</span>
<span class="token function">connectMongoDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span><span class="token function">routes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span><span class="token function">allowedMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">backend on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>host<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> \u{1F680}</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u3053\u3099\u6CE8\u610F" tabindex="-1"><a class="header-anchor" href="#\u3053\u3099\u6CE8\u610F" aria-hidden="true">#</a> \u3054\u6CE8\u610F</h5><p>\u5B9A\u6570<code>url</code>\u306E\u306F\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u306Edocke\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u30A2\u30C9\u30EC\u30B9\u3067\u3059\uFF08\u5F8C\u3067\u8AAC\u660E\uFF09\u3002</p><p>\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u306E\u6E96\u5099\u306F\u5B8C\u4E86</p><h2 id="_3-\u30C6\u3099\u30FC\u30BF\u306E\u6E96\u5099" tabindex="-1"><a class="header-anchor" href="#_3-\u30C6\u3099\u30FC\u30BF\u306E\u6E96\u5099" aria-hidden="true">#</a> 3.\u30C7\u30FC\u30BF\u306E\u6E96\u5099</h2>`,8),K=s("\u3053\u3053\u3067Mongodb\u3068\u305D\u306EGUI\u306EMongoDBCompass\u3092\u4F7F\u3044\u307E\u3059\u3002"),V=n("br",null,null,-1),z={href:"https://github.com/kensoz/depoly-demo/tree/master/database",target:"_blank",rel:"noopener noreferrer"},G=s("\u30C7\u30FC\u30BF\u30D5\u30A9\u30EB\u30C0\u3092\u53C2\u7167"),F=t(`<p>root\u30D5\u30A9\u30EB\u30C0\u3067database\u30D5\u30A9\u30EB\u30C0\u3092\u65B0\u898F\u4F5C\u6210\u3057\u3066\u3001database\u30D5\u30A9\u30EB\u30C0\u3067js\u30D5\u30A1\u30A4\u30EBmongo-init.js\u3092\u65B0\u898F\u4F5C\u6210 \u3002</p><h5 id="mongo-init-js\u3068\u306F" tabindex="-1"><a class="header-anchor" href="#mongo-init-js\u3068\u306F" aria-hidden="true">#</a> mongo-init.js\u3068\u306F</h5><p>\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u3078\u306E\u30A2\u30AF\u30BB\u30B9\u306F\u7BA1\u7406\u8005ID\u3068\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u5FC5\u8981\u3067\u3059\u3002<br> \u672C\u6765\u306F\u30BF\u30FC\u30DF\u30CA\u30EB\u3067\u30B3\u30DE\u30F3\u30C9\u3067\u30C7\u30FC\u30BF\u3092insert\u3057\u3066\u3001\u7BA1\u7406\u8005ID\u3068\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u8FFD\u52A0\u3057\u307E\u3059\u304C\u3001<br> \u3053\u306Emongo-init.js\u306F\u3001docker\u30B3\u30F3\u30C6\u30F3\u30C4\u8D77\u52D5\u306E\u6642\u306B\u81EA\u52D5\u3067\u5FC5\u8981\u306A\u30C7\u30FC\u30BF\u3092insert\u3001\u7BA1\u7406\u54E1\u3092\u8FFD\u52A0\u3059\u308B\u4FBF\u5229\u306A\u30B9\u30AF\u30EA\u30D7\u30C8\u3067\u3059\u3002<br> root\u306E\u7BA1\u7406\u54E1\u306FDockerfile\u6307\u5B9A\u3055\u308C\u307E\u3057\u305F\u306E\u3067\u3001\u3053\u3053\u3067\u4F5C\u3063\u305F\u306E\u306FCRUD\u7BA1\u7406\u54E1\u3067\u3059 \u3002</p><p>\u4EE5\u4E0B\u306E\u30B3\u30FC\u30C9\u3092\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\u3001docker\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u306Etests\u30C6\u30FC\u30D6\u30EB\u306B<code>[{ id: 1 }, { id: 2 }]</code>\u3092insert\u3057\u307E\u3059\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u30C6\u30FC\u30D6\u30EB\u7BA1\u7406\u8005\u3068\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u306E\u4F5C\u6210</span>
db<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pwd</span><span class="token operator">:</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token string">&quot;readWrite&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">db</span><span class="token operator">:</span> <span class="token string">&quot;docker&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5148\u4F5C\u3063\u305Fdocker db\u306B\u5207\u308A\u66FF\u3048</span>
db <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">getSiblingDB</span><span class="token punctuation">(</span><span class="token string">&quot;docker&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u3092\u81EA\u52D5\u4F5C\u6210\u3001\u30C7\u30FC\u30BFinsert</span>
db<span class="token punctuation">.</span><span class="token function">createCollection</span><span class="token punctuation">(</span><span class="token string">&quot;tests&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>tests<span class="token punctuation">.</span><span class="token function">insertMany</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u30C7\u30FC\u30BF\u306E\u6E96\u5099\u306F\u5B8C\u4E86</p><h5 id="\u307E\u3068\u3081" tabindex="-1"><a class="header-anchor" href="#\u307E\u3068\u3081" aria-hidden="true">#</a> \u307E\u3068\u3081</h5><p>\u3053\u3053\u307E\u3067\u306E\u30D5\u30A9\u30EB\u30C0\u69CB\u9020\u3002<br> \u3053\u308C\u304B\u3089\u306F\u4EE5\u4E0B\u306E\u30D5\u30A9\u30EB\u30C0\u3092\u30B3\u30F3\u30C6\u30F3\u30C4\u5316\u3057\u307E\u3059\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>backend
\u251C\u2500\u2500node_modules
\u251C\u2500\u2500 index.ts
\u251C\u2500\u2500 tsconfig.json
\u251C\u2500\u2500 yarn.lock
\u2514\u2500\u2500 package.json

frontend
\u251C\u2500\u2500 node_modules
\u251C\u2500\u2500 public
\u251C\u2500\u2500 src
\u251C\u2500\u2500 vite.config.ts
\u251C\u2500\u2500 tsconfig.json
\u251C\u2500\u2500 yarn.lock
\u2514\u2500\u2500 package.json
// \u4E00\u90E8\u7701\u7565

database
\u2514\u2500\u2500 mongo-init.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C8\u3099\u306Edockerfile" tabindex="-1"><a class="header-anchor" href="#_4-\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C8\u3099\u306Edockerfile" aria-hidden="true">#</a> 4.\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u306EDockerfile</h2><h5 id="\u8003\u3048\u65B9" tabindex="-1"><a class="header-anchor" href="#\u8003\u3048\u65B9" aria-hidden="true">#</a> \u8003\u3048\u65B9</h5><p>\u5FC5\u8981\u306A\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u30D5\u30A1\u30A4\u30EB\u3092\u30B3\u30F3\u30C6\u30F3\u30C4\u306B\u30B3\u30D4\u30FC\uFF0C\u30B3\u30F3\u30C6\u30F3\u30C4\u3067\u5FC5\u8981\u306A\u74B0\u5883\u3092\u7528\u610F\uFF0C\u30B3\u30D4\u30FC\u3057\u305F\u5F8C\u3067\u30D5\u30A1\u30A4\u30EB\u3092\u30D3\u30EB\u30C9\u3001Nginx\u3067\u30D3\u30EB\u30C9\u3057\u305F\u30D5\u30A1\u30A4\u30EB\u3092\u30C7\u30D7\u30ED\u30A4\u3002</p><h5 id="step1-image\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB" tabindex="-1"><a class="header-anchor" href="#step1-image\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB" aria-hidden="true">#</a> Step1 image\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB</h5><p>node\u3068nginx\u306Edocker image\u3092pull\u3057\u307E\u3059\u3002 pc\u3067\u65E2\u306Bnode\u3068nginx\u306Edocker image\u304C\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3055\u308C\u305F\u3089\u3053\u306EStep\u3092\u7121\u8996\u3057\u3066\u3082\u69CB\u3044\u307E\u305B\u3093\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull <span class="token function">node</span>
<span class="token function">docker</span> pull nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="step2-nginx\u8A2D\u5B9A" tabindex="-1"><a class="header-anchor" href="#step2-nginx\u8A2D\u5B9A" aria-hidden="true">#</a> Step2 Nginx\u8A2D\u5B9A</h5><p>frontend\u30D5\u30A9\u30EB\u30C0\u3067nginx\u306E\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EBdefault.conf\u3092\u65B0\u898F\u4F5C\u6210\u3057\u307E\u3059\u3002<br> \u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u306Fport<code>7021</code>\u3092\u4F7F\u3044\u307E\u3059 \u3002</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>server <span class="token punctuation">{</span>
    listen       <span class="token number">7021</span>;
    server_name  localhost;

    location / <span class="token punctuation">{</span>
        root   /usr/share/nginx/html;
        index  index.html index.htm;
    <span class="token punctuation">}</span>

    location /test <span class="token punctuation">{</span>
        proxy_pass  http<span class="token operator">:</span><span class="token comment">//backend:7022;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u3053\u3099\u6CE8\u610F-1" tabindex="-1"><a class="header-anchor" href="#\u3053\u3099\u6CE8\u610F-1" aria-hidden="true">#</a> \u3054\u6CE8\u610F</h5><p><code>proxy_pass</code>\u306E\u306F\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u306Edocke\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u30A2\u30C9\u30EC\u30B9\u3067\u3059\uFF08\u5F8C\u3067\u8AAC\u660E\uFF09\u3002</p><h5 id="step3-dockerfile\u4F5C\u6210" tabindex="-1"><a class="header-anchor" href="#step3-dockerfile\u4F5C\u6210" aria-hidden="true">#</a> Step3 Dockerfile\u4F5C\u6210</h5><p>frontend\u30D5\u30A9\u30EB\u30C0\u3067Dockerfile\u3092\u65B0\u898F\u4F5C\u6210\u3001\u4EE5\u4E0B\u306E\u30B3\u30FC\u30C9\u3092\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044 \u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># \u30A4\u30E1\u30FC\u30B8\u6307\u5B9A</span>
FROM node<span class="token punctuation">:</span>16.3.0

<span class="token comment"># \u4F5C\u8005\u6307\u5B9A</span>
LABEL maintainer=&quot;kensoz&quot;

<span class="token comment"># \u30EF\u30FC\u30AF\u30B9\u30DA\u30FC\u30B9\u6307\u5B9A</span>
WORKDIR /usr/src/frontend

<span class="token comment"># package.json\u3068yarn.lock\u30B3\u30D4\u30FC</span>
COPY <span class="token punctuation">[</span><span class="token string">&quot;package.json&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yarn.lock&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">]</span>

<span class="token comment"># \u30A4\u30F3\u30B9\u30C8\u30FC\u30EB</span>
RUN yarn

<span class="token comment"># \u30D5\u30A1\u30A4\u30EB\u30B3\u30D4\u30FC</span>
COPY . .

<span class="token comment"># \u30D3\u30EB\u30C9</span>
RUN yarn build

<span class="token comment"># \u30A4\u30E1\u30FC\u30B8\u6307\u5B9A</span>
FROM nginx<span class="token punctuation">:</span>latest

<span class="token comment"># \u30B3\u30F3\u30C6\u30CA\u5185\u306E\u30D3\u30EB\u30C9\u3057\u305Fdist\u30D5\u30A9\u30EB\u30C0\u3092nginx\u3078\u30B3\u30D4\u30FC</span>
COPY <span class="token punctuation">-</span><span class="token punctuation">-</span>from=0 /usr/src/frontend/dist/ /usr/share/nginx/html/

<span class="token comment"># nginx\u30B3\u30F3\u30D5\u30A3\u30B0\u30D5\u30A1\u30A4\u30EB\u30B3\u30D4\u30FC</span>
COPY default.conf /etc/nginx/conf.d/default.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7C21\u5358\u306B\u8AAC\u660E\uFF1A<br><code>FROM node:16.3.0</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u3067\u4F7F\u3046node\u74B0\u5883\u3068\u305D\u306E\u30D0\u30FC\u30B8\u30E7\u30F3\u6307\u5B9A\u3002<br><code>WORKDIR /usr/src/frontend</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u306E\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u306E\u30D5\u30A9\u30EB\u30C0\uFF08\u30EF\u30FC\u30AF\u30B9\u30DA\u30FC\u30B9\uFF09\u3002<br><code>COPY [&quot;package.json&quot;, &quot;yarn.lock&quot;, &quot;./&quot;]</code>\u30ED\u30FC\u30AB\u30EB\u306Epackage.json\u3084\u30BD\u30FC\u30B9\u30B3\u30FC\u30C9\u3092\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u306B\u30B3\u30D4\u30FC\u3002<br><code>RUN yarn</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u3067\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3002<br><code>COPY . .</code>\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u305F\u3082\u306E\u3092\u5168\u90E8\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u306B\u30B3\u30D4\u30FC\u3002<br><code>RUN yarn build</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u3067\u30D3\u30EB\u30C9\u3002<br><code>FROM nginx:latest</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u3067\u4F7F\u3046nginx\u74B0\u5883\u3068\u305D\u306E\u30D0\u30FC\u30B8\u30E7\u30F3\u6307\u5B9A\u3002<br><code>COPY --from=0 /usr/src/frontend/dist/ /usr/share/nginx/html/</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u3067\u5148\u30D3\u30EB\u30C9\u3057\u305Fdist\u30D5\u30A1\u30A4\u30EB\u3092\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u306Enginx\u30D5\u30A9\u30EB\u30C0\u306E\u4E2D\u306Ehtml\u30D5\u30A9\u30EB\u30C0\u306B\u30B3\u30D4\u30FC\uFF08nginx\u306E\u4F7F\u3044\u65B9\u306F\u30ED\u30FC\u30AB\u30EB\u3068\u540C\u3058\uFF09\u3002<br><code>COPY default.conf /etc/nginx/conf.d/default.conf</code>\u30ED\u30FC\u30AB\u30EB\u306Enginx\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u3092\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u306B\u30B3\u30D4\u30FC\u3002</p><p>\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9Dockerfile\u8A2D\u5B9A\u5B8C\u4E86</p><h2 id="_5-\u30CF\u3099\u30C3\u30AF\u30A8\u30F3\u30C8\u3099\u306Edockerfile" tabindex="-1"><a class="header-anchor" href="#_5-\u30CF\u3099\u30C3\u30AF\u30A8\u30F3\u30C8\u3099\u306Edockerfile" aria-hidden="true">#</a> 5.\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u306EDockerfile</h2><h5 id="\u8003\u3048\u65B9-1" tabindex="-1"><a class="header-anchor" href="#\u8003\u3048\u65B9-1" aria-hidden="true">#</a> \u8003\u3048\u65B9</h5><p>\u5FC5\u8981\u306A\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u30D5\u30A1\u30A4\u30EB\u3092\u30B3\u30F3\u30C6\u30F3\u30C4\u306B\u30B3\u30D4\u30FC\uFF0C\u30B3\u30F3\u30C6\u30F3\u30C4\u3067\u5FC5\u8981\u306A\u74B0\u5883\u3092\u7528\u610F\uFF0C\u30B3\u30D4\u30FC\u3057\u305F\u5F8C\u3067\u30D5\u30A1\u30A4\u30EB\u3092\u30D3\u30EB\u30C9\u3001\u305D\u306E\u5F8C\u30B5\u30FC\u30D0\u30FC\u3092\u8D77\u52D5\u3057\u307E\u3059\u3002</p><h5 id="step1-dockerfile" tabindex="-1"><a class="header-anchor" href="#step1-dockerfile" aria-hidden="true">#</a> Step1 Dockerfile</h5><p>\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u306Fport<code>7022</code>\u3092\u4F7F\u3044\u307E\u3059\u3002<br> \u3059\u3067\u306Bnode\u306Eimage\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u307E\u3057\u305F\u306E\u3067\u3001image\u306Epull\u306F\u3044\u3089\u306A\u3044\u3067\u3059\u3002<br> backend\u30D5\u30A9\u30EB\u30C0\u3067Dockerfile\u3092\u65B0\u898F\u4F5C\u6210\u3001\u4EE5\u4E0B\u306E\u30B3\u30FC\u30C9\u3092\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># \u30A4\u30E1\u30FC\u30B8\u6307\u5B9A</span>
FROM node<span class="token punctuation">:</span>16.3.0

<span class="token comment"># \u4F5C\u8005\u6307\u5B9A</span>
LABEL maintainer=&quot;kensoz&quot;

<span class="token comment"># \u30EF\u30FC\u30AF\u30B9\u30DA\u30FC\u30B9\u6307\u5B9A</span>
WORKDIR /usr/src/backend

<span class="token comment"># package.json\u3068yarn.lock\u30B3\u30D4\u30FC</span>
COPY <span class="token punctuation">[</span><span class="token string">&quot;package.json&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yarn.lock&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">]</span>

<span class="token comment"># \u30A4\u30F3\u30B9\u30C8\u30FC\u30EB</span>
RUN yarn

<span class="token comment"># \u30D5\u30A1\u30A4\u30EB\u30B3\u30D4\u30FC</span>
COPY . .

<span class="token comment"># \u30D3\u30EB\u30C9</span>
RUN yarn build

<span class="token comment"># \u30DD\u30FC\u30C8\u306E\u89E3\u653E</span>
EXPOSE 7022

<span class="token comment"># \u30B3\u30F3\u30C6\u30CA\u5B9F\u884C</span>
ENTRYPOINT <span class="token punctuation">[</span> <span class="token string">&quot;yarn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;start&quot;</span> <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7C21\u5358\u306B\u8AAC\u660E\uFF1A<br><code>FROM node:16.3.0</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u3067\u4F7F\u3046node\u74B0\u5883\u3068\u305D\u306E\u30D0\u30FC\u30B8\u30E7\u30F3\u6307\u5B9A\u3002<br><code>WORKDIR /usr/src/backend</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u306E\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u306E\u30D5\u30A9\u30EB\u30C0\uFF08\u30EF\u30FC\u30AF\u30B9\u30DA\u30FC\u30B9\uFF09\u3002<br><code>COPY [&quot;package.json&quot;, &quot;yarn.lock&quot;, &quot;./&quot;]</code>\u30ED\u30FC\u30AB\u30EB\u306Epackage.json\u3084\u30BD\u30FC\u30B9\u30B3\u30FC\u30C9\u3092\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u306B\u30B3\u30D4\u30FC\u3002<br><code>RUN yarn</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u3067\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3002<br><code>COPY . .</code>\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u305F\u3082\u306E\u3092\u5168\u90E8\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u306B\u30B3\u30D4\u30FC\u3002<br><code>RUN yarn build</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u3067\u30D3\u30EB\u30C9\u3002<br><code>EXPOSE 7022</code>port7022\u3092\u516C\u958B\u3002<br><code>ENTRYPOINT [ &quot;yarn&quot;, &quot;start&quot; ]</code>\u30B5\u30FC\u30D0\u30FC\u3092\u8D77\u52D5\u3002</p><p>\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9Dockerfile\u8A2D\u5B9A\u5B8C\u4E86</p><h2 id="_6-\u30C6\u3099\u30FC\u30BF\u306Edockerfile" tabindex="-1"><a class="header-anchor" href="#_6-\u30C6\u3099\u30FC\u30BF\u306Edockerfile" aria-hidden="true">#</a> 6.\u30C7\u30FC\u30BF\u306EDockerfile</h2><h5 id="step1-image\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB-1" tabindex="-1"><a class="header-anchor" href="#step1-image\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB-1" aria-hidden="true">#</a> Step1 image\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB</h5><p>\u30C7\u30FC\u30BF\u306Fport<code>27017</code>\u3092\u4F7F\u3044\u307E\u3059\u3002<br> MongoDB\u306Edocker image\u3092pull\u3057\u307E\u3059\u3002 pc\u3067\u65E2\u306BMongoDB\u306Edocker image\u304C\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3055\u308C\u305F\u3089\u3053\u306EStep\u3092\u7121\u8996\u3057\u3066\u3082\u69CB\u3044\u307E\u305B\u3093\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull mongo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="step2-dockerfile" tabindex="-1"><a class="header-anchor" href="#step2-dockerfile" aria-hidden="true">#</a> Step2 Dockerfile</h5><p>database\u30D5\u30A9\u30EB\u30C0\u3067Dockerfile\u3092\u65B0\u898F\u4F5C\u6210\u3001\u4EE5\u4E0B\u306E\u30B3\u30FC\u30C9\u3092\u4F7F\u3063\u3066\u304F\u3060\u3055\u3044\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># \u30A4\u30E1\u30FC\u30B8\u6307\u5B9A</span>
FROM mongo<span class="token punctuation">:</span>latest

<span class="token comment"># \u4F5C\u8005\u6307\u5B9A</span>
LABEL maintainer=&quot;kensoz&quot;

<span class="token comment"># \u7BA1\u7406\u8005\u30A2\u30AB\u30A6\u30F3\u30C8\u4F5C\u8005</span>
ENV MONGO_INITDB_ROOT_USERNAME root

<span class="token comment"># \u7BA1\u7406\u8005\u30D1\u30B9\u30EF\u30FC\u30C9\u4F5C\u8005</span>
ENV MONGO_INITDB_ROOT_PASSWORD root

<span class="token comment"># \u4F7F\u3046\u4E88\u5B9A\u306E\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u540D\u79F0</span>
ENV MONGO_INITDB_DATABASE docker

<span class="token comment"># \u30B3\u30F3\u30C6\u30CA\u8D77\u52D5\u306E\u6642\u3001\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u7BA1\u7406\u8005\u30B9\u30AF\u30EA\u30D7\u30C8\u5B9F\u884C</span>
ADD mongo<span class="token punctuation">-</span>init.js /docker<span class="token punctuation">-</span>entrypoint<span class="token punctuation">-</span>initdb.d/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7C21\u5358\u306B\u8AAC\u660E\uFF1A<br><code>FROM mongo:latest</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u3067\u4F7F\u3046MongoDB\u74B0\u5883\u3068\u305D\u306E\u30D0\u30FC\u30B8\u30E7\u30F3\u6307\u5B9A\u3002<br><code>ENV MONGO_INITDB_ROOT_USERNAM</code>\u548C<code>ENV MONGO_INITDB_ROOT_PASSWORD</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u3092\u8D77\u52D5\u3059\u308B\u3068\u3001root\u7BA1\u7406\u54E1\u306EID\u3068\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u6307\u5B9A\u3002<br><code>ADD mongo-init.js /docker-entrypoint-initdb.d/</code>\u30B3\u30F3\u30C6\u30F3\u30C4\u3092\u8D77\u52D5\u3059\u308B\u3068\u3001\u5148\u4F5C\u3063\u305F\u30B9\u30AF\u30EA\u30D7\u30C8\u3092\u81EA\u52D5\u3067\u5B9F\u884C\u3002</p><p>\u30C7\u30FC\u30BFDockerfile\u8A2D\u5B9A\u5B8C\u4E86</p><h5 id="tip" tabindex="-1"><a class="header-anchor" href="#tip" aria-hidden="true">#</a> Tip</h5><p>\u305D\u308C\u305E\u308C\u306E\u30D5\u30A9\u30EB\u30C0\u3067<code>.dockerignore</code>\u30D5\u30A1\u30A4\u30EB\u3092\u4F5C\u6210\u3057\u3066\u3001\u4E0D\u8981\u306A\u30D5\u30A1\u30A4\u30EB\u3068\u30D5\u30A9\u30EB\u30C0\u3092\u7121\u8996\u306B\u3057\u307E\u3057\u3087\u3046\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>node_modules;
dist.vscode;
logs;
coverage;
npm <span class="token punctuation">-</span> debug.log;
yarn <span class="token punctuation">-</span> debug.log;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-docker-compose-yml" tabindex="-1"><a class="header-anchor" href="#_7-docker-compose-yml" aria-hidden="true">#</a> 7.docker-compose.yml</h2><h5 id="step1-root\u30D5\u30A9\u30EB\u30BF\u3099\u3066\u3099docker-compose-yml\u3092\u65B0\u898F\u4F5C\u6210" tabindex="-1"><a class="header-anchor" href="#step1-root\u30D5\u30A9\u30EB\u30BF\u3099\u3066\u3099docker-compose-yml\u3092\u65B0\u898F\u4F5C\u6210" aria-hidden="true">#</a> Step1 root\u30D5\u30A9\u30EB\u30C0\u3067docker-compose.yml\u3092\u65B0\u898F\u4F5C\u6210</h5><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.8&quot;</span>

<span class="token comment"># network</span>
<span class="token comment"># \u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u540D\u79F0</span>
<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">dockertest-network</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver</span><span class="token punctuation">:</span> bridge

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token comment">### frontend #################</span>
  <span class="token comment"># \u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\uFF0C\u3053\u3053\u306E\u540D\u79F0\u3000frontend\u3000\u306F\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u3067port\u3068\u3057\u3066\u4F7F\u3046</span>
  <span class="token key atrule">frontend</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> depoly<span class="token punctuation">-</span>frontend
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./frontend
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 127.0.0.1<span class="token punctuation">:</span>7021<span class="token punctuation">:</span><span class="token number">7021</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> backend
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> dockertest<span class="token punctuation">-</span>network

  <span class="token comment">### backend #################</span>
  <span class="token comment"># \u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\uFF0C\u3053\u3053\u306E\u540D\u79F0\u3000backend\u3000\u306F\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u3067port\u3068\u3057\u3066\u4F7F\u3046</span>
  <span class="token key atrule">backend</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> depoly<span class="token punctuation">-</span>backend
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./backend
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 127.0.0.1<span class="token punctuation">:</span>7022<span class="token punctuation">:</span><span class="token number">7022</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> database
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> dockertest<span class="token punctuation">-</span>network

  <span class="token comment">### database #################</span>
  <span class="token comment"># \u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\uFF0C\u3053\u3053\u306E\u540D\u79F0\u3000database\u3000\u306F\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u3067port\u3068\u3057\u3066\u4F7F\u3046</span>
  <span class="token key atrule">database</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> depoly<span class="token punctuation">-</span>database
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./database
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;127.0.0.1:27017:27017&quot;</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> dockertest<span class="token punctuation">-</span>network
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7C21\u5358\u306B\u8AAC\u660E\uFF1A</p><p><code>docker-compose.yml</code>\u3092\u4F7F\u3046\u3068\u3001\u5404\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\uFF08\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u3001\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u3001\u30C7\u30FC\u30BF\uFF09\u3092\u9023\u643A\u3057\u3066\u3001\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u3092\u69CB\u7BC9\u3001\u3053\u306E\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u306B\u3088\u3063\u3066\u30B3\u30F3\u30C6\u30F3\u30C4\u540C\u58EB\u304C\u30A2\u30AF\u30BB\u30B9\u3067\u304D\u307E\u3059\u3002 \u672C\u6765\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u306B\u30A2\u30AF\u30BB\u30B9\u3059\u308B\u6642\u3001<code>localhost:27017/</code>\u307F\u305F\u3044\u306Aurl\u3092\u4F7F\u3044\u307E\u3059\u304C\u3001\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u3067\u306F<code>localhost</code>\u304C\u306A\u304F\u3066\u3001\u52D5\u7684\u306Aport\u3068\u306A\u308A\u307E\u3059\u3002\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u306E\u5834\u5408\u306F<code>docker-compose.yml</code>\u3067\u5B9A\u7FA9\u3057\u305F\u30B3\u30F3\u30C6\u30F3\u540D\u79F0\u3092port\u3068\u3057\u3066\u4F7F\u3044\u307E\u3059\u3002\u672C\u8A18\u4E8B\u306Fdatabase\u3092\u5B9A\u7FA9\u3057\u3066\u3001<code>database:27017</code>\u3092\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u306Eport url\u3068\u3057\u3066\u4F7F\u3063\u3066\u3044\u307E\u3059\u3002</p><p>docker-compose.yml\u8A2D\u5B9A\u5B8C\u4E86</p><h2 id="_8-docker\u30B3\u30F3\u30C6\u30F3\u30C4\u5B9F\u884C" tabindex="-1"><a class="header-anchor" href="#_8-docker\u30B3\u30F3\u30C6\u30F3\u30C4\u5B9F\u884C" aria-hidden="true">#</a> 8.docker\u30B3\u30F3\u30C6\u30F3\u30C4\u5B9F\u884C</h2><p>root\u30D5\u30A9\u30EB\u30C0\u3067\u5B9F\u884C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker-compose</span> up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u554F\u984C\u304C\u306A\u3051\u308C\u3070\u3001docker\u306EGUI\u3067\u4EE5\u4E0B\u306E\u3082\u306E\u304C\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002</p><p><img src="https://s2.loli.net/2022/08/02/ohbnW238VRsXaNr.jpg" alt="\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2022-08-01 153410.jpg"></p><h2 id="_9-\u691C\u8A3C" tabindex="-1"><a class="header-anchor" href="#_9-\u691C\u8A3C" aria-hidden="true">#</a> 9.\u691C\u8A3C</h2><h5 id="\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C8\u3099\u691C\u8A3C" tabindex="-1"><a class="header-anchor" href="#\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C8\u3099\u691C\u8A3C" aria-hidden="true">#</a> \u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u691C\u8A3C</h5><p><code>http://localhost:7021/</code>\u3092\u8D77\u52D5\u3059\u308B\u3068\u3001\u30C7\u30FC\u30BF\u304C\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002</p><p><img src="https://s2.loli.net/2022/08/02/37OzX6jSpKaFr1v.jpg" alt="\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2022-08-01 153444.jpg"></p><h5 id="\u30CF\u3099\u30C3\u30AF\u30A8\u30F3\u30C8\u3099\u691C\u8A3C" tabindex="-1"><a class="header-anchor" href="#\u30CF\u3099\u30C3\u30AF\u30A8\u30F3\u30C8\u3099\u691C\u8A3C" aria-hidden="true">#</a> \u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u691C\u8A3C</h5><p>docker\u306EGUI\u3067\uFF0C\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u306Elog\u304C\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002 <img src="https://s2.loli.net/2022/08/02/4oqDxOQCAXe7KMi.jpg" alt="\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2022-08-01 153513.jpg"></p><h5 id="\u30C6\u3099\u30FC\u30BF\u691C\u8A3C" tabindex="-1"><a class="header-anchor" href="#\u30C6\u3099\u30FC\u30BF\u691C\u8A3C" aria-hidden="true">#</a> \u30C7\u30FC\u30BF\u691C\u8A3C</h5><p>MongoDB\u306EGUI\u3067\uFF0Cdocker\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u306A\u3069\u304C\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002</p><p><img src="https://s2.loli.net/2022/08/02/9ms8jSLBATtZrUN.jpg" alt="\u30B9\u30AF\u30EA\u30FC\u30F3\u30B7\u30E7\u30C3\u30C8 2022-08-01 153553.jpg"></p><h2 id="_10-\u6700\u5F8C" tabindex="-1"><a class="header-anchor" href="#_10-\u6700\u5F8C" aria-hidden="true">#</a> 10.\u6700\u5F8C</h2><ul><li><code>volumes</code>\u306F\u4F7F\u3063\u3066\u3044\u306A\u3044\u306E\u3067\u3001\u597D\u304D\u306B\u8FFD\u52A0\u3057\u3066\u304F\u3060\u3055\u3044</li><li><code>CD/CI</code>\u306F\u4F7F\u3063\u3066\u3044\u306A\u3044\u306E\u3067\u3001\u597D\u304D\u306B\u8FFD\u52A0\u3057\u3066\u304F\u3060\u3055\u3044.<code>docker-compose up -d</code>\u3092\u5B9F\u884C\u3059\u308C\u3070\u81EA\u52D5\u3067\u30C7\u30D7\u30ED\u30A4\u3067\u304D\u308B\u3068\u601D\u3044\u307E\u3059\u3002</li></ul>`,67);function L(W,X){const a=i("ExternalLinkIcon");return p(),c("div",null,[u,n("p",null,[r,n("a",d,[k,e(a)])]),v,n("p",null,[m,n("a",b,[h,e(a)]),g,f,y,n("a",_,[q,e(a)]),x]),w,n("p",null,[D,O,n("a",j,[N,e(a)])]),R,n("p",null,[I,S,n("a",M,[P,e(a)])]),n("p",null,[B,E,C,n("a",T,[A,e(a)]),U]),Y,n("p",null,[K,V,n("a",z,[G,e(a)])]),F])}var Q=o(l,[["render",L],["__file","docker.html.vue"]]);export{Q as default};
