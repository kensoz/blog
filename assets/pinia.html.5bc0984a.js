import{_ as p,o,c,a as n,d as t,e,b as s,r as i}from"./app.a5ec93c6.js";const l={},u=e('<h1 id="\u7528setup-api\u6765\u5199pinia-js" tabindex="-1"><a class="header-anchor" href="#\u7528setup-api\u6765\u5199pinia-js" aria-hidden="true">#</a> \u7528Setup API\u6765\u5199Pinia.js</h1><p><img src="https://img.shields.io/badge/-Typescript-9ca3af.svg?logo=typescript&amp;style=popout-square" alt=""> <img src="https://img.shields.io/badge/-Javascript-9ca3af.svg?logo=javascript&amp;style=popout-square" alt=""> <img src="https://img.shields.io/badge/-Vue.js-9ca3af.svg?logo=vue.js&amp;style=popout-square" alt=""></p>',2),r=s("\u{1F4E1} "),d={href:"https://segmentfault.com/a/1190000042290316",target:"_blank",rel:"noopener noreferrer"},k=s("\u601D\u5426"),v=n("h2",{id:"_0-\u5199\u5728\u524D\u9762",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_0-\u5199\u5728\u524D\u9762","aria-hidden":"true"},"#"),s(" 0.\u5199\u5728\u524D\u9762")],-1),m=n("ul",null,[n("li",null,[s("\u672C\u6559\u7A0B\u4F7F\u7528\u57FA\u4E8E"),n("code",null,"Vue.js 3"),s("\u9879\u76EE\u6765\u8BB2\u89E3")])],-1),g=n("h2",{id:"_1-\u5B89\u88C5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-\u5B89\u88C5","aria-hidden":"true"},"#"),s(" 1.\u5B89\u88C5")],-1),h=s("\u53C2\u8003"),b={href:"https://pinia.vuejs.org/introduction.html",target:"_blank",rel:"noopener noreferrer"},_=s("\u5B98\u7F51"),f=s("\u5B89\u88C5"),y=e(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> pinia
<span class="token comment"># or with npm</span>
<span class="token function">npm</span> <span class="token function">install</span> pinia
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u5BFC\u5165" tabindex="-1"><a class="header-anchor" href="#_2-\u5BFC\u5165" aria-hidden="true">#</a> 2.\u5BFC\u5165</h2><p>\u5728<code>main.js</code>\u6216<code>main.ts</code>\u5BFC\u5165Pinia.js</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-\u65B0\u5EFAstore" tabindex="-1"><a class="header-anchor" href="#_3-\u65B0\u5EFAstore" aria-hidden="true">#</a> 3.\u65B0\u5EFAStore</h2><p>\u5148\u5728<code>src</code>\u6587\u4EF6\u5939\u4E2D\u521B\u5EFA<code>store</code>\u6587\u4EF6\u5939 \u65B0\u5EFA<code>index.ts</code>\u6216<code>index.js</code>\u6587\u4EF6\uFF0C\u672C\u6559\u7A0B\u4F7F\u7528<code>ts</code></p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>


<span class="token keyword">export</span> <span class="token keyword">const</span> useMainStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5C31\u50CF\u5199script setup\u4E00\u6837\u6765\u5199store</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> increment <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> increment <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-\u4F7F\u7528store" tabindex="-1"><a class="header-anchor" href="#_4-\u4F7F\u7528store" aria-hidden="true">#</a> 4.\u4F7F\u7528Store</h2><p>\u5728<code>App.vue</code></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    count: {{ count }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>increment<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useMainStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/store/index&#39;</span>

<span class="token comment">// hooks\u4E00\u6837\u6765\u4F7F\u7528</span>
<span class="token keyword">const</span> useMainStore <span class="token operator">=</span> <span class="token function">useMainStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> increment <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>useMainStore<span class="token punctuation">)</span>

<span class="token comment">// vue\u91CC\u9762\u4E5F\u53EF\u4EE5\u76F4\u63A5\u6539</span>
count<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10);function x(w,j){const a=i("ExternalLinkIcon");return o(),c("div",null,[u,n("p",null,[r,n("a",d,[k,t(a)])]),v,m,g,n("p",null,[h,n("a",b,[_,t(a)]),f]),y])}var q=p(l,[["render",x],["__file","pinia.html.vue"]]);export{q as default};
